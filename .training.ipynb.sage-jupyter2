{"backend_state":"init","connection_file":"/projects/e5ac326b-8e23-49e3-8a5a-a6f96260b4dc/.local/share/jupyter/runtime/kernel-46099a54-bb63-4b50-baf5-4655a5762ad2.json","kernel":"ds_env","kernel_error":"","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":0},"metadata":{"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.9.12"}},"trust":true,"type":"settings"}
{"cell_type":"code","exec_count":0,"id":"073397","input":"","pos":41,"type":"cell"}
{"cell_type":"code","exec_count":0,"id":"3c3741","input":"","pos":42,"type":"cell"}
{"cell_type":"code","exec_count":15,"id":"ca61ad","input":"# Plot 4: Assault per state\n\nplt.figure(figsize=(30, 10))\nplt.bar(crime_df['jurisdiction'], crime_df['agg_assault'])\nplt.title('agg_assault')\nplt.ylabel(\"Aggravated Assault\")\nplt.xlabel(\"States\")\nplt.xticks(rotation = 90)","output":{"0":{"data":{"text/plain":"([0,\n  1,\n  2,\n  3,\n  4,\n  5,\n  6,\n  7,\n  8,\n  9,\n  10,\n  11,\n  12,\n  13,\n  14,\n  15,\n  16,\n  17,\n  18,\n  19,\n  20,\n  21,\n  22,\n  23,\n  24,\n  25,\n  26,\n  27,\n  28,\n  29,\n  30,\n  31,\n  32,\n  33,\n  34,\n  35,\n  36,\n  37,\n  38,\n  39,\n  40,\n  41,\n  42,\n  43,\n  44,\n  45,\n  46,\n  47,\n  48,\n  49],\n [Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, '')])"},"exec_count":15,"output_type":"execute_result"},"1":{"data":{"image/png":"6116d19990d03c4b52a9325720deefceebd03207","text/plain":"<Figure size 2160x720 with 1 Axes>"},"exec_count":15,"metadata":{"needs_background":"light"},"output_type":"execute_result"}},"pos":15,"type":"cell"}
{"cell_type":"code","exec_count":17,"id":"a6ef0e","input":"# Plot 6: Total Violent Crime based on the prisoner count\nplt.figure(figsize=(30, 10))\nplt.scatter(crime_df['violent_crime_total'], crime_df['prisoner_count'])\nplt.title('Total Violent Crime based on Prisoner Count')\nplt.ylabel(\"Violent Crime\")\nplt.xlabel(\"Prisoner Count\")\nplt.xticks(rotation = 80)","output":{"0":{"data":{"text/plain":"(array([-25000.,      0.,  25000.,  50000.,  75000., 100000., 125000.,\n        150000., 175000., 200000.]),\n [Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, ''),\n  Text(0, 0, '')])"},"exec_count":17,"output_type":"execute_result"},"1":{"data":{"image/png":"a50cae036bbda58d5b7a368bc402fdf378a8e894","text/plain":"<Figure size 2160x720 with 1 Axes>"},"exec_count":17,"metadata":{"needs_background":"light"},"output_type":"execute_result"}},"pos":17,"type":"cell"}
{"cell_type":"code","exec_count":18,"id":"f1b032","input":"# Plot 7: Amount of prisoners per state\n\nsns.boxplot(x=\"prisoner_count\", data=crime_df.tail(50))\nplt.xlabel(\"# of Prisoners\")\nplt.title(\"Amount of Prisoners per State\")","output":{"0":{"data":{"text/plain":"Text(0.5, 1.0, 'Amount of Prisoners per State')"},"exec_count":18,"output_type":"execute_result"},"1":{"data":{"image/png":"adab9ceacb272304efc6c3f612f0a97d68581165","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":18,"metadata":{"needs_background":"light"},"output_type":"execute_result"}},"pos":18,"type":"cell"}
{"cell_type":"code","exec_count":20,"id":"f3cfae","input":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nfrom matplotlib import pyplot as plt\nimport math\n\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.tree import DecisionTreeRegressor\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.metrics import mean_squared_error, mean_squared_log_error, mean_absolute_error, accuracy_score\n\nfrom sklearn.metrics import confusion_matrix\ncrime_df.head()","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>jurisdiction</th>\n      <th>includes_jails</th>\n      <th>year</th>\n      <th>prisoner_count</th>\n      <th>crime_reporting_change</th>\n      <th>crimes_estimated</th>\n      <th>state_population</th>\n      <th>violent_crime_total</th>\n      <th>murder_manslaughter</th>\n      <th>rape_revised</th>\n      <th>agg_assault</th>\n      <th>property_crime_total</th>\n      <th>burglary</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>613</th>\n      <td>ALABAMA</td>\n      <td>False</td>\n      <td>2013</td>\n      <td>26825</td>\n      <td>False</td>\n      <td>False</td>\n      <td>4833996.0</td>\n      <td>20834.0</td>\n      <td>346.0</td>\n      <td>2055.0</td>\n      <td>13788.0</td>\n      <td>161835.0</td>\n      <td>42410.0</td>\n    </tr>\n    <tr>\n      <th>614</th>\n      <td>ALASKA</td>\n      <td>True</td>\n      <td>2013</td>\n      <td>5081</td>\n      <td>False</td>\n      <td>False</td>\n      <td>737259.0</td>\n      <td>4709.0</td>\n      <td>34.0</td>\n      <td>925.0</td>\n      <td>3127.0</td>\n      <td>21211.0</td>\n      <td>2917.0</td>\n    </tr>\n    <tr>\n      <th>615</th>\n      <td>ARIZONA</td>\n      <td>False</td>\n      <td>2013</td>\n      <td>41031</td>\n      <td>False</td>\n      <td>False</td>\n      <td>6634997.0</td>\n      <td>27576.0</td>\n      <td>355.0</td>\n      <td>3174.0</td>\n      <td>17391.0</td>\n      <td>223294.0</td>\n      <td>48292.0</td>\n    </tr>\n    <tr>\n      <th>616</th>\n      <td>ARKANSAS</td>\n      <td>False</td>\n      <td>2013</td>\n      <td>14295</td>\n      <td>False</td>\n      <td>False</td>\n      <td>2958765.0</td>\n      <td>13705.0</td>\n      <td>158.0</td>\n      <td>1490.0</td>\n      <td>9796.0</td>\n      <td>106477.0</td>\n      <td>30369.0</td>\n    </tr>\n    <tr>\n      <th>617</th>\n      <td>CALIFORNIA</td>\n      <td>False</td>\n      <td>2013</td>\n      <td>134339</td>\n      <td>False</td>\n      <td>False</td>\n      <td>38431393.0</td>\n      <td>154739.0</td>\n      <td>1746.0</td>\n      <td>10324.0</td>\n      <td>89029.0</td>\n      <td>1018907.0</td>\n      <td>232058.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"    jurisdiction  includes_jails  year  prisoner_count crime_reporting_change  \\\n613      ALABAMA           False  2013           26825                  False   \n614       ALASKA            True  2013            5081                  False   \n615      ARIZONA           False  2013           41031                  False   \n616     ARKANSAS           False  2013           14295                  False   \n617   CALIFORNIA           False  2013          134339                  False   \n\n    crimes_estimated  state_population  violent_crime_total  \\\n613            False         4833996.0              20834.0   \n614            False          737259.0               4709.0   \n615            False         6634997.0              27576.0   \n616            False         2958765.0              13705.0   \n617            False        38431393.0             154739.0   \n\n     murder_manslaughter  rape_revised  agg_assault  property_crime_total  \\\n613                346.0        2055.0      13788.0              161835.0   \n614                 34.0         925.0       3127.0               21211.0   \n615                355.0        3174.0      17391.0              223294.0   \n616                158.0        1490.0       9796.0              106477.0   \n617               1746.0       10324.0      89029.0             1018907.0   \n\n     burglary  \n613   42410.0  \n614    2917.0  \n615   48292.0  \n616   30369.0  \n617  232058.0  "},"exec_count":20,"output_type":"execute_result"}},"pos":24,"type":"cell"}
{"cell_type":"code","exec_count":21,"id":"cf63ad","input":"labelencoder = LabelEncoder()\ncrime_df['jurisdiction Labels'] = labelencoder.fit_transform(crime_df[\"jurisdiction\"])\ncrime_df['includes_jails Labels'] = labelencoder.fit_transform(crime_df[\"includes_jails\"])\ncrime_df['jurisdiction'] = crime_df['jurisdiction Labels']\ncrime_df['includes_jails'] = crime_df['includes_jails Labels']\ncrime_df","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>jurisdiction</th>\n      <th>includes_jails</th>\n      <th>year</th>\n      <th>prisoner_count</th>\n      <th>crime_reporting_change</th>\n      <th>crimes_estimated</th>\n      <th>state_population</th>\n      <th>violent_crime_total</th>\n      <th>murder_manslaughter</th>\n      <th>rape_revised</th>\n      <th>agg_assault</th>\n      <th>property_crime_total</th>\n      <th>burglary</th>\n      <th>jurisdiction Labels</th>\n      <th>includes_jails Labels</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>613</th>\n      <td>0</td>\n      <td>0</td>\n      <td>2013</td>\n      <td>26825</td>\n      <td>False</td>\n      <td>False</td>\n      <td>4833996.0</td>\n      <td>20834.0</td>\n      <td>346.0</td>\n      <td>2055.0</td>\n      <td>13788.0</td>\n      <td>161835.0</td>\n      <td>42410.0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>614</th>\n      <td>1</td>\n      <td>1</td>\n      <td>2013</td>\n      <td>5081</td>\n      <td>False</td>\n      <td>False</td>\n      <td>737259.0</td>\n      <td>4709.0</td>\n      <td>34.0</td>\n      <td>925.0</td>\n      <td>3127.0</td>\n      <td>21211.0</td>\n      <td>2917.0</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>615</th>\n      <td>2</td>\n      <td>0</td>\n      <td>2013</td>\n      <td>41031</td>\n      <td>False</td>\n      <td>False</td>\n      <td>6634997.0</td>\n      <td>27576.0</td>\n      <td>355.0</td>\n      <td>3174.0</td>\n      <td>17391.0</td>\n      <td>223294.0</td>\n      <td>48292.0</td>\n      <td>2</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>616</th>\n      <td>3</td>\n      <td>0</td>\n      <td>2013</td>\n      <td>14295</td>\n      <td>False</td>\n      <td>False</td>\n      <td>2958765.0</td>\n      <td>13705.0</td>\n      <td>158.0</td>\n      <td>1490.0</td>\n      <td>9796.0</td>\n      <td>106477.0</td>\n      <td>30369.0</td>\n      <td>3</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>617</th>\n      <td>4</td>\n      <td>0</td>\n      <td>2013</td>\n      <td>134339</td>\n      <td>False</td>\n      <td>False</td>\n      <td>38431393.0</td>\n      <td>154739.0</td>\n      <td>1746.0</td>\n      <td>10324.0</td>\n      <td>89029.0</td>\n      <td>1018907.0</td>\n      <td>232058.0</td>\n      <td>4</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>760</th>\n      <td>45</td>\n      <td>0</td>\n      <td>2015</td>\n      <td>30430</td>\n      <td>False</td>\n      <td>False</td>\n      <td>8382993.0</td>\n      <td>16399.0</td>\n      <td>383.0</td>\n      <td>2340.0</td>\n      <td>9235.0</td>\n      <td>156470.0</td>\n      <td>21340.0</td>\n      <td>45</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>761</th>\n      <td>46</td>\n      <td>0</td>\n      <td>2015</td>\n      <td>17222</td>\n      <td>False</td>\n      <td>False</td>\n      <td>7170351.0</td>\n      <td>20394.0</td>\n      <td>211.0</td>\n      <td>2705.0</td>\n      <td>12029.0</td>\n      <td>248369.0</td>\n      <td>50993.0</td>\n      <td>46</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>762</th>\n      <td>47</td>\n      <td>0</td>\n      <td>2015</td>\n      <td>5925</td>\n      <td>False</td>\n      <td>False</td>\n      <td>1844128.0</td>\n      <td>6231.0</td>\n      <td>70.0</td>\n      <td>672.0</td>\n      <td>4729.0</td>\n      <td>37251.0</td>\n      <td>9170.0</td>\n      <td>47</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>763</th>\n      <td>48</td>\n      <td>0</td>\n      <td>2015</td>\n      <td>22914</td>\n      <td>False</td>\n      <td>False</td>\n      <td>5771337.0</td>\n      <td>17647.0</td>\n      <td>240.0</td>\n      <td>1780.0</td>\n      <td>10395.0</td>\n      <td>113924.0</td>\n      <td>19554.0</td>\n      <td>48</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>764</th>\n      <td>49</td>\n      <td>0</td>\n      <td>2015</td>\n      <td>2400</td>\n      <td>False</td>\n      <td>False</td>\n      <td>586107.0</td>\n      <td>1302.0</td>\n      <td>16.0</td>\n      <td>173.0</td>\n      <td>1054.0</td>\n      <td>11151.0</td>\n      <td>1762.0</td>\n      <td>49</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n<p>149 rows × 15 columns</p>\n</div>","text/plain":"     jurisdiction  includes_jails  year  prisoner_count  \\\n613             0               0  2013           26825   \n614             1               1  2013            5081   \n615             2               0  2013           41031   \n616             3               0  2013           14295   \n617             4               0  2013          134339   \n..            ...             ...   ...             ...   \n760            45               0  2015           30430   \n761            46               0  2015           17222   \n762            47               0  2015            5925   \n763            48               0  2015           22914   \n764            49               0  2015            2400   \n\n    crime_reporting_change crimes_estimated  state_population  \\\n613                  False            False         4833996.0   \n614                  False            False          737259.0   \n615                  False            False         6634997.0   \n616                  False            False         2958765.0   \n617                  False            False        38431393.0   \n..                     ...              ...               ...   \n760                  False            False         8382993.0   \n761                  False            False         7170351.0   \n762                  False            False         1844128.0   \n763                  False            False         5771337.0   \n764                  False            False          586107.0   \n\n     violent_crime_total  murder_manslaughter  rape_revised  agg_assault  \\\n613              20834.0                346.0        2055.0      13788.0   \n614               4709.0                 34.0         925.0       3127.0   \n615              27576.0                355.0        3174.0      17391.0   \n616              13705.0                158.0        1490.0       9796.0   \n617             154739.0               1746.0       10324.0      89029.0   \n..                   ...                  ...           ...          ...   \n760              16399.0                383.0        2340.0       9235.0   \n761              20394.0                211.0        2705.0      12029.0   \n762               6231.0                 70.0         672.0       4729.0   \n763              17647.0                240.0        1780.0      10395.0   \n764               1302.0                 16.0         173.0       1054.0   \n\n     property_crime_total  burglary  jurisdiction Labels  \\\n613              161835.0   42410.0                    0   \n614               21211.0    2917.0                    1   \n615              223294.0   48292.0                    2   \n616              106477.0   30369.0                    3   \n617             1018907.0  232058.0                    4   \n..                    ...       ...                  ...   \n760              156470.0   21340.0                   45   \n761              248369.0   50993.0                   46   \n762               37251.0    9170.0                   47   \n763              113924.0   19554.0                   48   \n764               11151.0    1762.0                   49   \n\n     includes_jails Labels  \n613                      0  \n614                      1  \n615                      0  \n616                      0  \n617                      0  \n..                     ...  \n760                      0  \n761                      0  \n762                      0  \n763                      0  \n764                      0  \n\n[149 rows x 15 columns]"},"exec_count":21,"output_type":"execute_result"}},"pos":26,"type":"cell"}
{"cell_type":"code","exec_count":22,"id":"d1543d","input":"training_features = ['jurisdiction','includes_jails','state_population','violent_crime_total','murder_manslaughter','rape_revised','agg_assault','property_crime_total','burglary']\ntarget = 'prisoner_count'","pos":27,"type":"cell"}
{"cell_type":"code","exec_count":23,"id":"da0521","input":"#new_cdf = jurisdiction, includes_jail, state_population, violent_crime_total, rape_revised, murder_manslaughter, agg_assault, property_crime_total, burglary \ntrain, test = train_test_split(crime_df, test_size=0.2, shuffle=True)\ntrain_X = train[training_features]\ntrain_Y = train[target]\ntest_X = test[training_features]\ntest_Y = test[target]\nprint(train_X.shape)\ntrain_X","output":{"0":{"name":"stdout","output_type":"stream","text":"(119, 9)\n"},"1":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>jurisdiction</th>\n      <th>includes_jails</th>\n      <th>state_population</th>\n      <th>violent_crime_total</th>\n      <th>murder_manslaughter</th>\n      <th>rape_revised</th>\n      <th>agg_assault</th>\n      <th>property_crime_total</th>\n      <th>burglary</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>633</th>\n      <td>20</td>\n      <td>0</td>\n      <td>6708874.0</td>\n      <td>27264.0</td>\n      <td>138.0</td>\n      <td>2303.0</td>\n      <td>18118.0</td>\n      <td>137274.0</td>\n      <td>30716.0</td>\n    </tr>\n    <tr>\n      <th>701</th>\n      <td>37</td>\n      <td>0</td>\n      <td>12787209.0</td>\n      <td>40164.0</td>\n      <td>614.0</td>\n      <td>3827.0</td>\n      <td>22189.0</td>\n      <td>247016.0</td>\n      <td>45720.0</td>\n    </tr>\n    <tr>\n      <th>652</th>\n      <td>39</td>\n      <td>0</td>\n      <td>4771929.0</td>\n      <td>24263.0</td>\n      <td>305.0</td>\n      <td>2233.0</td>\n      <td>17760.0</td>\n      <td>173261.0</td>\n      <td>40930.0</td>\n    </tr>\n    <tr>\n      <th>713</th>\n      <td>49</td>\n      <td>0</td>\n      <td>584153.0</td>\n      <td>1142.0</td>\n      <td>16.0</td>\n      <td>174.0</td>\n      <td>899.0</td>\n      <td>11477.0</td>\n      <td>1689.0</td>\n    </tr>\n    <tr>\n      <th>729</th>\n      <td>14</td>\n      <td>0</td>\n      <td>3123899.0</td>\n      <td>8936.0</td>\n      <td>72.0</td>\n      <td>1156.0</td>\n      <td>6661.0</td>\n      <td>63957.0</td>\n      <td>14892.0</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>646</th>\n      <td>33</td>\n      <td>0</td>\n      <td>723857.0</td>\n      <td>1979.0</td>\n      <td>16.0</td>\n      <td>355.0</td>\n      <td>1447.0</td>\n      <td>15356.0</td>\n      <td>2979.0</td>\n    </tr>\n    <tr>\n      <th>669</th>\n      <td>5</td>\n      <td>0</td>\n      <td>5355866.0</td>\n      <td>16554.0</td>\n      <td>151.0</td>\n      <td>3039.0</td>\n      <td>10325.0</td>\n      <td>135510.0</td>\n      <td>23472.0</td>\n    </tr>\n    <tr>\n      <th>672</th>\n      <td>8</td>\n      <td>0</td>\n      <td>19893297.0</td>\n      <td>107521.0</td>\n      <td>1149.0</td>\n      <td>8563.0</td>\n      <td>72895.0</td>\n      <td>679446.0</td>\n      <td>143220.0</td>\n    </tr>\n    <tr>\n      <th>752</th>\n      <td>37</td>\n      <td>0</td>\n      <td>12802503.0</td>\n      <td>40339.0</td>\n      <td>658.0</td>\n      <td>4305.0</td>\n      <td>22373.0</td>\n      <td>232085.0</td>\n      <td>39664.0</td>\n    </tr>\n    <tr>\n      <th>695</th>\n      <td>31</td>\n      <td>0</td>\n      <td>19746227.0</td>\n      <td>75398.0</td>\n      <td>617.0</td>\n      <td>5433.0</td>\n      <td>45303.0</td>\n      <td>339282.0</td>\n      <td>50781.0</td>\n    </tr>\n  </tbody>\n</table>\n<p>119 rows × 9 columns</p>\n</div>","text/plain":"     jurisdiction  includes_jails  state_population  violent_crime_total  \\\n633            20               0         6708874.0              27264.0   \n701            37               0        12787209.0              40164.0   \n652            39               0         4771929.0              24263.0   \n713            49               0          584153.0               1142.0   \n729            14               0         3123899.0               8936.0   \n..            ...             ...               ...                  ...   \n646            33               0          723857.0               1979.0   \n669             5               0         5355866.0              16554.0   \n672             8               0        19893297.0             107521.0   \n752            37               0        12802503.0              40339.0   \n695            31               0        19746227.0              75398.0   \n\n     murder_manslaughter  rape_revised  agg_assault  property_crime_total  \\\n633                138.0        2303.0      18118.0              137274.0   \n701                614.0        3827.0      22189.0              247016.0   \n652                305.0        2233.0      17760.0              173261.0   \n713                 16.0         174.0        899.0               11477.0   \n729                 72.0        1156.0       6661.0               63957.0   \n..                   ...           ...          ...                   ...   \n646                 16.0         355.0       1447.0               15356.0   \n669                151.0        3039.0      10325.0              135510.0   \n672               1149.0        8563.0      72895.0              679446.0   \n752                658.0        4305.0      22373.0              232085.0   \n695                617.0        5433.0      45303.0              339282.0   \n\n     burglary  \n633   30716.0  \n701   45720.0  \n652   40930.0  \n713    1689.0  \n729   14892.0  \n..        ...  \n646    2979.0  \n669   23472.0  \n672  143220.0  \n752   39664.0  \n695   50781.0  \n\n[119 rows x 9 columns]"},"exec_count":23,"output_type":"execute_result"}},"pos":28,"type":"cell"}
{"cell_type":"code","exec_count":24,"id":"5f7fe9","input":"model = LinearRegression()\nmodel.fit(train_X, train_Y)","output":{"0":{"data":{"text/html":"<style>#sk-container-id-1 {color: black;background-color: white;}#sk-container-id-1 pre{padding: 0;}#sk-container-id-1 div.sk-toggleable {background-color: white;}#sk-container-id-1 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-1 label.sk-toggleable__label-arrow:before {content: \"▸\";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-1 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-1 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-1 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: \"▾\";}#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-1 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-1 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-1 div.sk-parallel-item::after {content: \"\";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 div.sk-serial::before {content: \"\";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-1 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-1 div.sk-item {position: relative;z-index: 1;}#sk-container-id-1 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-1 div.sk-item::before, #sk-container-id-1 div.sk-parallel-item::before {content: \"\";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-1 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-1 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-1 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-1 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-1 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-1 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-1 div.sk-label-container {text-align: center;}#sk-container-id-1 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-1 div.sk-text-repr-fallback {display: none;}</style><div id=\"sk-container-id-1\" class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>LinearRegression()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class=\"sk-container\" hidden><div class=\"sk-item\"><div class=\"sk-estimator sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=\"sk-estimator-id-1\" type=\"checkbox\" checked><label for=\"sk-estimator-id-1\" class=\"sk-toggleable__label sk-toggleable__label-arrow\">LinearRegression</label><div class=\"sk-toggleable__content\"><pre>LinearRegression()</pre></div></div></div></div></div>","text/plain":"LinearRegression()"},"exec_count":24,"output_type":"execute_result"}},"pos":30,"type":"cell"}
{"cell_type":"code","exec_count":25,"id":"3c19ac","input":"train_pred_Y = model.predict(train_X)\ntest_pred_Y = model.predict(test_X)\ntrain_pred_Y = pd.Series(train_pred_Y.clip(0, train_pred_Y.max()), index=train_Y.index)\ntest_pred_Y = pd.Series(test_pred_Y.clip(0, test_pred_Y.max()), index=test_Y.index)\n\nprint(mean_absolute_error(np.array(test_Y), test_pred_Y))","output":{"0":{"name":"stdout","output_type":"stream","text":"5227.66901933673\n"}},"pos":31,"type":"cell"}
{"cell_type":"code","exec_count":26,"id":"3650b6","input":"result = model.score(test_X, test_Y)\nresult","output":{"0":{"data":{"text/plain":"0.944597693967246"},"exec_count":26,"output_type":"execute_result"}},"pos":32,"type":"cell"}
{"cell_type":"code","exec_count":27,"id":"a8e920","input":"import numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd\nfrom sklearn.ensemble import RandomForestRegressor\nregressor_rf = RandomForestRegressor(n_estimators = 5000, max_depth = 8)\nregressor_rf.fit(train_X, train_Y) ","output":{"0":{"data":{"text/html":"<style>#sk-container-id-2 {color: black;background-color: white;}#sk-container-id-2 pre{padding: 0;}#sk-container-id-2 div.sk-toggleable {background-color: white;}#sk-container-id-2 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-2 label.sk-toggleable__label-arrow:before {content: \"▸\";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-2 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-2 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-2 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-2 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-2 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-2 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: \"▾\";}#sk-container-id-2 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-2 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-2 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-2 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-2 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-2 div.sk-parallel-item::after {content: \"\";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-2 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-2 div.sk-serial::before {content: \"\";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-2 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-2 div.sk-item {position: relative;z-index: 1;}#sk-container-id-2 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-2 div.sk-item::before, #sk-container-id-2 div.sk-parallel-item::before {content: \"\";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-2 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-2 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-2 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-2 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-2 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-2 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-2 div.sk-label-container {text-align: center;}#sk-container-id-2 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-2 div.sk-text-repr-fallback {display: none;}</style><div id=\"sk-container-id-2\" class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>RandomForestRegressor(max_depth=8, n_estimators=5000)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class=\"sk-container\" hidden><div class=\"sk-item\"><div class=\"sk-estimator sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=\"sk-estimator-id-2\" type=\"checkbox\" checked><label for=\"sk-estimator-id-2\" class=\"sk-toggleable__label sk-toggleable__label-arrow\">RandomForestRegressor</label><div class=\"sk-toggleable__content\"><pre>RandomForestRegressor(max_depth=8, n_estimators=5000)</pre></div></div></div></div></div>","text/plain":"RandomForestRegressor(max_depth=8, n_estimators=5000)"},"exec_count":27,"output_type":"execute_result"}},"pos":34,"type":"cell"}
{"cell_type":"code","exec_count":28,"id":"f58611","input":"random_result = regressor_rf.predict(test_X)\nprint(mean_absolute_error(np.array(test_Y), random_result))\n\nresultrf = regressor_rf.score(test_X, test_Y)\nprint(\"Accuracy: \", resultrf)","output":{"0":{"name":"stdout","output_type":"stream","text":"2945.4966696745064\n"},"1":{"name":"stdout","output_type":"stream","text":"Accuracy:  0.9775712248847894\n"}},"pos":35,"type":"cell"}
{"cell_type":"code","exec_count":29,"id":"8bae2d","input":"from sklearn.datasets import load_diabetes\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.tree import DecisionTreeRegressor\n\nfrom sklearn.datasets import load_iris\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.model_selection import train_test_split\nregressor_dt = DecisionTreeRegressor(random_state = 0) \nregressor_dt.fit(train_X, train_Y)","output":{"0":{"data":{"text/html":"<style>#sk-container-id-3 {color: black;background-color: white;}#sk-container-id-3 pre{padding: 0;}#sk-container-id-3 div.sk-toggleable {background-color: white;}#sk-container-id-3 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-3 label.sk-toggleable__label-arrow:before {content: \"▸\";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-3 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-3 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-3 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-3 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-3 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-3 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: \"▾\";}#sk-container-id-3 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-3 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-3 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-3 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-3 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-3 div.sk-parallel-item::after {content: \"\";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-3 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-3 div.sk-serial::before {content: \"\";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-3 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-3 div.sk-item {position: relative;z-index: 1;}#sk-container-id-3 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-3 div.sk-item::before, #sk-container-id-3 div.sk-parallel-item::before {content: \"\";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-3 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-3 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-3 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-3 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-3 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-3 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-3 div.sk-label-container {text-align: center;}#sk-container-id-3 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-3 div.sk-text-repr-fallback {display: none;}</style><div id=\"sk-container-id-3\" class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>DecisionTreeRegressor(random_state=0)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class=\"sk-container\" hidden><div class=\"sk-item\"><div class=\"sk-estimator sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=\"sk-estimator-id-3\" type=\"checkbox\" checked><label for=\"sk-estimator-id-3\" class=\"sk-toggleable__label sk-toggleable__label-arrow\">DecisionTreeRegressor</label><div class=\"sk-toggleable__content\"><pre>DecisionTreeRegressor(random_state=0)</pre></div></div></div></div></div>","text/plain":"DecisionTreeRegressor(random_state=0)"},"exec_count":29,"output_type":"execute_result"}},"pos":37,"type":"cell"}
{"cell_type":"code","exec_count":30,"id":"4c1a1f","input":"decision_result = regressor_dt.predict(test_X)\nprint(mean_absolute_error(np.array(test_Y), decision_result))\n\nresultdt = regressor_dt.score(test_X, test_Y)\nprint(\"Accuracy: \",resultdt)","output":{"0":{"name":"stdout","output_type":"stream","text":"983.3666666666667\nAccuracy:  0.99728060766884\n"}},"pos":38,"type":"cell"}
{"cell_type":"code","exec_count":31,"id":"3f4cf5","input":"from sklearn.datasets import load_diabetes\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.tree import DecisionTreeRegressor\n\nfrom sklearn.datasets import load_iris\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.model_selection import train_test_split\nregressor = DecisionTreeRegressor(random_state = 0) \nregressor.fit(train_X, train_Y)\nresult = regressor.predict(train_X)","pos":39,"type":"cell"}
{"cell_type":"code","exec_count":35,"id":"4079cc","input":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.expres\ns as px\n","pos":2,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":36,"id":"9b1de5","input":"crime_df = pd.read_csv(\"crimes.csv\")","pos":4,"type":"cell"}
{"cell_type":"code","exec_count":37,"id":"2a4e09","input":"crime_df.dropna(inplace=True)\n\n# crime_df.reset_index(drop=True, inplace=True)","pos":5,"type":"cell"}
{"cell_type":"code","exec_count":38,"id":"6d310a","input":"crime_df","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>jurisdiction</th>\n      <th>includes_jails</th>\n      <th>year</th>\n      <th>prisoner_count</th>\n      <th>crime_reporting_change</th>\n      <th>crimes_estimated</th>\n      <th>state_population</th>\n      <th>violent_crime_total</th>\n      <th>murder_manslaughter</th>\n      <th>rape_legacy</th>\n      <th>rape_revised</th>\n      <th>robbery</th>\n      <th>agg_assault</th>\n      <th>property_crime_total</th>\n      <th>burglary</th>\n      <th>larceny</th>\n      <th>vehicle_theft</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>613</th>\n      <td>ALABAMA</td>\n      <td>False</td>\n      <td>2013</td>\n      <td>26825</td>\n      <td>False</td>\n      <td>False</td>\n      <td>4833996.0</td>\n      <td>20834.0</td>\n      <td>346.0</td>\n      <td>1449.0</td>\n      <td>2055.0</td>\n      <td>4645.0</td>\n      <td>13788.0</td>\n      <td>161835.0</td>\n      <td>42410.0</td>\n      <td>108862.0</td>\n      <td>10563.0</td>\n    </tr>\n    <tr>\n      <th>614</th>\n      <td>ALASKA</td>\n      <td>True</td>\n      <td>2013</td>\n      <td>5081</td>\n      <td>False</td>\n      <td>False</td>\n      <td>737259.0</td>\n      <td>4709.0</td>\n      <td>34.0</td>\n      <td>657.0</td>\n      <td>925.0</td>\n      <td>623.0</td>\n      <td>3127.0</td>\n      <td>21211.0</td>\n      <td>2917.0</td>\n      <td>16599.0</td>\n      <td>1695.0</td>\n    </tr>\n    <tr>\n      <th>615</th>\n      <td>ARIZONA</td>\n      <td>False</td>\n      <td>2013</td>\n      <td>41031</td>\n      <td>False</td>\n      <td>False</td>\n      <td>6634997.0</td>\n      <td>27576.0</td>\n      <td>355.0</td>\n      <td>2344.0</td>\n      <td>3174.0</td>\n      <td>6656.0</td>\n      <td>17391.0</td>\n      <td>223294.0</td>\n      <td>48292.0</td>\n      <td>158036.0</td>\n      <td>16966.0</td>\n    </tr>\n    <tr>\n      <th>616</th>\n      <td>ARKANSAS</td>\n      <td>False</td>\n      <td>2013</td>\n      <td>14295</td>\n      <td>False</td>\n      <td>False</td>\n      <td>2958765.0</td>\n      <td>13705.0</td>\n      <td>158.0</td>\n      <td>1135.0</td>\n      <td>1490.0</td>\n      <td>2261.0</td>\n      <td>9796.0</td>\n      <td>106477.0</td>\n      <td>30369.0</td>\n      <td>70430.0</td>\n      <td>5678.0</td>\n    </tr>\n    <tr>\n      <th>617</th>\n      <td>CALIFORNIA</td>\n      <td>False</td>\n      <td>2013</td>\n      <td>134339</td>\n      <td>False</td>\n      <td>False</td>\n      <td>38431393.0</td>\n      <td>154739.0</td>\n      <td>1746.0</td>\n      <td>7464.0</td>\n      <td>10324.0</td>\n      <td>53640.0</td>\n      <td>89029.0</td>\n      <td>1018907.0</td>\n      <td>232058.0</td>\n      <td>621557.0</td>\n      <td>165292.0</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>760</th>\n      <td>VIRGINIA</td>\n      <td>False</td>\n      <td>2015</td>\n      <td>30430</td>\n      <td>False</td>\n      <td>False</td>\n      <td>8382993.0</td>\n      <td>16399.0</td>\n      <td>383.0</td>\n      <td>1493.0</td>\n      <td>2340.0</td>\n      <td>4441.0</td>\n      <td>9235.0</td>\n      <td>156470.0</td>\n      <td>21340.0</td>\n      <td>127019.0</td>\n      <td>8111.0</td>\n    </tr>\n    <tr>\n      <th>761</th>\n      <td>WASHINGTON</td>\n      <td>False</td>\n      <td>2015</td>\n      <td>17222</td>\n      <td>False</td>\n      <td>False</td>\n      <td>7170351.0</td>\n      <td>20394.0</td>\n      <td>211.0</td>\n      <td>2193.0</td>\n      <td>2705.0</td>\n      <td>5449.0</td>\n      <td>12029.0</td>\n      <td>248369.0</td>\n      <td>50993.0</td>\n      <td>170509.0</td>\n      <td>26867.0</td>\n    </tr>\n    <tr>\n      <th>762</th>\n      <td>WEST VIRGINIA</td>\n      <td>False</td>\n      <td>2015</td>\n      <td>5925</td>\n      <td>False</td>\n      <td>False</td>\n      <td>1844128.0</td>\n      <td>6231.0</td>\n      <td>70.0</td>\n      <td>420.0</td>\n      <td>672.0</td>\n      <td>760.0</td>\n      <td>4729.0</td>\n      <td>37251.0</td>\n      <td>9170.0</td>\n      <td>25842.0</td>\n      <td>2239.0</td>\n    </tr>\n    <tr>\n      <th>763</th>\n      <td>WISCONSIN</td>\n      <td>False</td>\n      <td>2015</td>\n      <td>22914</td>\n      <td>False</td>\n      <td>False</td>\n      <td>5771337.0</td>\n      <td>17647.0</td>\n      <td>240.0</td>\n      <td>1224.0</td>\n      <td>1780.0</td>\n      <td>5232.0</td>\n      <td>10395.0</td>\n      <td>113924.0</td>\n      <td>19554.0</td>\n      <td>83385.0</td>\n      <td>10985.0</td>\n    </tr>\n    <tr>\n      <th>764</th>\n      <td>WYOMING</td>\n      <td>False</td>\n      <td>2015</td>\n      <td>2400</td>\n      <td>False</td>\n      <td>False</td>\n      <td>586107.0</td>\n      <td>1302.0</td>\n      <td>16.0</td>\n      <td>125.0</td>\n      <td>173.0</td>\n      <td>59.0</td>\n      <td>1054.0</td>\n      <td>11151.0</td>\n      <td>1762.0</td>\n      <td>8797.0</td>\n      <td>592.0</td>\n    </tr>\n  </tbody>\n</table>\n<p>149 rows × 17 columns</p>\n</div>","text/plain":"      jurisdiction  includes_jails  year  prisoner_count  \\\n613        ALABAMA           False  2013           26825   \n614         ALASKA            True  2013            5081   \n615        ARIZONA           False  2013           41031   \n616       ARKANSAS           False  2013           14295   \n617     CALIFORNIA           False  2013          134339   \n..             ...             ...   ...             ...   \n760       VIRGINIA           False  2015           30430   \n761     WASHINGTON           False  2015           17222   \n762  WEST VIRGINIA           False  2015            5925   \n763      WISCONSIN           False  2015           22914   \n764        WYOMING           False  2015            2400   \n\n    crime_reporting_change crimes_estimated  state_population  \\\n613                  False            False         4833996.0   \n614                  False            False          737259.0   \n615                  False            False         6634997.0   \n616                  False            False         2958765.0   \n617                  False            False        38431393.0   \n..                     ...              ...               ...   \n760                  False            False         8382993.0   \n761                  False            False         7170351.0   \n762                  False            False         1844128.0   \n763                  False            False         5771337.0   \n764                  False            False          586107.0   \n\n     violent_crime_total  murder_manslaughter  rape_legacy  rape_revised  \\\n613              20834.0                346.0       1449.0        2055.0   \n614               4709.0                 34.0        657.0         925.0   \n615              27576.0                355.0       2344.0        3174.0   \n616              13705.0                158.0       1135.0        1490.0   \n617             154739.0               1746.0       7464.0       10324.0   \n..                   ...                  ...          ...           ...   \n760              16399.0                383.0       1493.0        2340.0   \n761              20394.0                211.0       2193.0        2705.0   \n762               6231.0                 70.0        420.0         672.0   \n763              17647.0                240.0       1224.0        1780.0   \n764               1302.0                 16.0        125.0         173.0   \n\n     robbery  agg_assault  property_crime_total  burglary   larceny  \\\n613   4645.0      13788.0              161835.0   42410.0  108862.0   \n614    623.0       3127.0               21211.0    2917.0   16599.0   \n615   6656.0      17391.0              223294.0   48292.0  158036.0   \n616   2261.0       9796.0              106477.0   30369.0   70430.0   \n617  53640.0      89029.0             1018907.0  232058.0  621557.0   \n..       ...          ...                   ...       ...       ...   \n760   4441.0       9235.0              156470.0   21340.0  127019.0   \n761   5449.0      12029.0              248369.0   50993.0  170509.0   \n762    760.0       4729.0               37251.0    9170.0   25842.0   \n763   5232.0      10395.0              113924.0   19554.0   83385.0   \n764     59.0       1054.0               11151.0    1762.0    8797.0   \n\n     vehicle_theft  \n613        10563.0  \n614         1695.0  \n615        16966.0  \n616         5678.0  \n617       165292.0  \n..             ...  \n760         8111.0  \n761        26867.0  \n762         2239.0  \n763        10985.0  \n764          592.0  \n\n[149 rows x 17 columns]"},"exec_count":38,"output_type":"execute_result"}},"pos":6,"type":"cell"}
{"cell_type":"code","exec_count":39,"id":"479b81","input":"# Check for null values and remove null values from columns\ncrime_df.isnull().sum()","output":{"0":{"data":{"text/plain":"jurisdiction              0\nincludes_jails            0\nyear                      0\nprisoner_count            0\ncrime_reporting_change    0\ncrimes_estimated          0\nstate_population          0\nviolent_crime_total       0\nmurder_manslaughter       0\nrape_legacy               0\nrape_revised              0\nrobbery                   0\nagg_assault               0\nproperty_crime_total      0\nburglary                  0\nlarceny                   0\nvehicle_theft             0\ndtype: int64"},"exec_count":39,"output_type":"execute_result"}},"pos":7,"type":"cell"}
{"cell_type":"code","exec_count":40,"id":"7c67f8","input":"# dropping columns which have maximum null values of the whole data\n#rape_legacy, vehicle_theft, larceny, robbery","pos":8,"type":"cell"}
{"cell_type":"code","exec_count":41,"id":"824753","input":"# drop any remaining null values in rows\ncrime_df = crime_df.drop('rape_legacy', axis = 1)\ncrime_df = crime_df.drop('larceny', axis = 1) \ncrime_df = crime_df.drop('robbery', axis = 1)\ncrime_df = crime_df.drop('vehicle_theft', axis = 1)\ncrime_df.info()","output":{"0":{"name":"stdout","output_type":"stream","text":"<class 'pandas.core.frame.DataFrame'>\nInt64Index: 149 entries, 613 to 764\nData columns (total 13 columns):\n #   Column                  Non-Null Count  Dtype  \n---  ------                  --------------  -----  \n 0   jurisdiction            149 non-null    object \n 1   includes_jails          149 non-null    bool   \n 2   year                    149 non-null    int64  \n 3   prisoner_count          149 non-null    int64  \n 4   crime_reporting_change  149 non-null    object \n 5   crimes_estimated        149 non-null    object \n 6   state_population        149 non-null    float64\n 7   violent_crime_total     149 non-null    float64\n 8   murder_manslaughter     149 non-null    float64\n 9   rape_revised            149 non-null    float64\n 10  agg_assault             149 non-null    float64\n 11  property_crime_total    149 non-null    float64\n 12  burglary                149 non-null    float64\ndtypes: bool(1), float64(7), int64(2), object(3)\nmemory usage: 15.3+ KB\n"}},"pos":9,"type":"cell"}
{"cell_type":"code","exec_count":42,"id":"84b540","input":"# checking for null values in the each column of the dataset\ncrime_df.isnull().sum()","output":{"0":{"data":{"text/plain":"jurisdiction              0\nincludes_jails            0\nyear                      0\nprisoner_count            0\ncrime_reporting_change    0\ncrimes_estimated          0\nstate_population          0\nviolent_crime_total       0\nmurder_manslaughter       0\nrape_revised              0\nagg_assault               0\nproperty_crime_total      0\nburglary                  0\ndtype: int64"},"exec_count":42,"output_type":"execute_result"}},"pos":10,"type":"cell"}
{"cell_type":"code","exec_count":49,"id":"d3c84e","input":"# Plot 1: Prisoner Count per state\n\nfig = px.line(crime_df, x='jurisdiction', y='prisoner_count', color = 'year')\nfig.show()","output":{"0":{"data":{"iframe":"55f23c646118bee7acf34d87076c9d0d0b3cc90b"},"exec_count":49,"output_type":"execute_result"}},"pos":12,"type":"cell"}
{"cell_type":"code","exec_count":55,"id":"bb4b12","input":"# Plot 3: Burglary per state\n\nfig = px.scatter(crime_df, x ='jurisdiction', y = 'burglary', color='prisoner_count', title = \"Burglary per State\", labels = {\"jurisdiction\":\"States\", \"burglary\":\"Burglary\"})\nfig.show()","output":{"0":{"data":{"iframe":"e267c105c7093140b1057af550fe496216477b14"},"exec_count":55,"output_type":"execute_result"}},"pos":14,"type":"cell"}
{"cell_type":"code","exec_count":56,"id":"c62200","input":"# Plot 2: Murder-Manslaughter per state\n\nfig = px.bar(crime_df, x='jurisdiction', y='murder_manslaughter', color = 'year', title = \"Murder-Manslaughter per State\", labels = {\"jurisdiction\":\"States\", \"murder_manslaughter\":\"Murder-Manslaughter\"})\nfig.show()","output":{"0":{"data":{"iframe":"a9e2540d6cabb9ba36b95653eb26810da68d97ec"},"exec_count":56,"output_type":"execute_result"}},"pos":13,"type":"cell"}
{"cell_type":"code","exec_count":81,"id":"e288b9","input":"# Plot 5: Includes jail or not based on the crimes\n\npath=['murder_manslaughter','rape_revised','agg_assault','burglary']\nfig = px.bar(crime_df, x=\"jurisdiction\", y=path, hover_data = [\"includes_jails\",\"year\"], title=\"Includes jail or not based on the crimes\")\nfig.show()","output":{"0":{"data":{"iframe":"80b69f1010329258289e62be813ea4570cfa9096"},"exec_count":81,"output_type":"execute_result"}},"pos":16,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":85,"id":"fb7edd","input":"plt.figure(figsize = (15,9))\nax = plt.subplot()\nsns.heatmap(crime_df.corr(),annot=True, fmt='.1f', ax=ax)\nax.set_title('Correlation Plot')","output":{"0":{"data":{"text/plain":"Text(0.5, 1.0, 'Correlation Plot')"},"exec_count":85,"output_type":"execute_result"},"1":{"data":{"image/png":"201282fd9b364665267d8492e10b25fd9f2b6196","text/plain":"<Figure size 1080x648 with 2 Axes>"},"exec_count":85,"metadata":{"needs_background":"light"},"output_type":"execute_result"}},"pos":21,"type":"cell"}
{"cell_type":"markdown","id":"318828","input":"#### Label Encoding\n\n","pos":25,"type":"cell"}
{"cell_type":"markdown","id":"33b2fb","input":"#### Random Forest Regressor\n\n","pos":33,"type":"cell"}
{"cell_type":"markdown","id":"3b253b","input":"#### Correlation Plot\n\n","pos":20,"type":"cell"}
{"cell_type":"markdown","id":"3c021d","input":"###### In this project, we intend to develop a model to make predictions for the number of prisoners we have based on the factors like burglary, larceny, man\\_slaughter, etc. depending on how many null values these columns have. Further in the next few cells in this training file, we will show up what visualizations we create to understand the factors we need to be taken into consideration.\n\n","pos":0,"type":"cell"}
{"cell_type":"markdown","id":"4b24ee","input":"## Models\n\n","pos":23,"type":"cell"}
{"cell_type":"markdown","id":"734ede","input":"#### Decision Tree Regressor\n\n","pos":36,"type":"cell"}
{"cell_type":"markdown","id":"8dce00","input":"## Data Visualisation\n\n","pos":11,"type":"cell"}
{"cell_type":"markdown","id":"90baf1","input":"## Data Information and Cleaning\n\n","pos":3,"type":"cell"}
{"cell_type":"markdown","id":"cc31ed","input":"## Feature Selection & Extraction\n\n","pos":22,"type":"cell"}
{"cell_type":"markdown","id":"d2d7d0","input":"#### Linear Model\n\n","pos":29,"type":"cell"}
{"cell_type":"markdown","id":"da9398","input":"##### SVM\n\n","pos":40,"type":"cell"}
{"cell_type":"markdown","id":"e87e7b","input":"Data Analysis for the above plot:\n\n","pos":19,"type":"cell"}
{"cell_type":"markdown","id":"ed2513","input":"## Imports\n\n","pos":1,"type":"cell"}
{"id":0,"time":1659016146743,"type":"user"}
{"last_load":1659016146425,"type":"file"}